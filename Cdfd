if flow_type.lower() == "onereg":
    if asset_class == "TRAX":
        # Use TRAX-specific script for OneReg
        jurisdictions = ["TRAXCASH", "TRAXNONCASH", "TRAXNONCASHOTC"]
        jurisdiction_str = ",".join(jurisdictions)
        cmd = f"sh /apps/TTR/uat2/OneReg/OneRegReconciler/UnixScript/Recon_Automation/loadOneRegTRAXData.sh {asset_class} {jurisdiction_str} {recon_type} {recon_date_formatted}"
    else:
        # Existing script for other asset classes with multiple jurisdictions
        cmd = f"sh /apps/TTR/uat2/OneReg/OneRegReconciler/UnixScript/Recon_Automation/loadOneRegData.sh {asset_class} {jurisdiction_str} {recon_type} {recon_date_formatted}"

elif flow_type.lower() == "file":
    if asset_class == "TRAX":
        # Use TRAX-specific script for File
        cmd = f"sh /apps/TTR/uat2/OneReg/OneRegReconciler/UnixScript/Recon_Automation/loadFileTRAXData.sh {asset_class} {jurisdiction_str} {recon_type} {recon_date_formatted}"
    else:
        # Existing script for other asset classes
        cmd = f"sh /apps/TTR/uat2/OneReg/OneRegReconciler/UnixScript/Recon_Automation/loadFileData.sh {asset_class} {jurisdiction_str} {recon_type} {recon_date_formatted}"

else:
    # Handle invalid flow type
    return render_template(
        'home.html',
        asset_classes=["FX", "IR", "EQ", "CO", "CD", "TRAX"],  # Ensure TRAX is included in asset_classes
        jurisdictions=list(JURISDICTION_SHORTFORMS.keys()),
        recon_types=["COMP", "POS"],
        response="Invalid Flow Type",
        file_paths=[]
    )
